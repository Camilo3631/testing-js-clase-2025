name: ğŸ’… Lint
on: push

defaults:
  run:
    working-directory: ./api  # Ajusta segÃºn dÃ³nde estÃ© tu package.json

jobs: 
  lint:
    runs-on: macos-latest
    steps:
      # 1ï¸âƒ£ Clonar el repositorio
      - name: ğŸ‘ Checkout
        uses: actions/checkout@v4

      # 2ï¸âƒ£ Configurar Node.js
      - name: Setup Node.js
        uses: actions/setup-node@v4
        with:
          node-version: 20

      # 3ï¸âƒ£ Instalar dependencias
      - name: ğŸ“¥ Install Dependencies
        run: npm ci

      # 4ï¸âƒ£ Listar archivos para debug
      - name: ğŸ” List files
        run: ls -la

      # 5ï¸âƒ£ Arreglar automÃ¡ticamente errores que ESLint pueda corregir
      - name: ğŸŒ¸ Fix ESLint issues
        run: npm run lint:fix || true

      # 6ï¸âƒ£ Ejecutar ESLint y mostrar errores restantes, pero no falla
      - name: ğŸŒ¹ Run ESLint (show errors, no fail)
        run: npm run lint || true
