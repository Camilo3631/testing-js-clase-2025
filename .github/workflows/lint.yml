name: ğŸ’… Lint
on: push

# Se asegura de que todos los comandos se ejecuten dentro de ./api
defaults:
  run:
    working-directory: ./api

jobs: 
  lint:
    runs-on: macos-latest
    steps:
      # 1ï¸âƒ£ Clonar el repositorio
      - name: ğŸ‘ Checkout
        uses: actions/checkout@v4

      # 2ï¸âƒ£ Configurar Node.js
      - name: Setup Node.js
        uses: actions/setup-node@v4
        with:
          node-version: 20

      # 3ï¸âƒ£ Instalar dependencias
      - name: ğŸ“¥ Install Dependencies
        run: npm ci

      # 4ï¸âƒ£ (Opcional) Arreglar errores automÃ¡ticamente que ESLint pueda corregir
      - name: ğŸŒ¸ Fix ESLint issues
        run: npm run lint:fix || true

      # 5ï¸âƒ£ Ejecutar ESLint para verificar errores restantes
      - name: ğŸŒ¹ Run ESLint
        run: npm run lint
