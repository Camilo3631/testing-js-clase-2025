name: 💅 Lint
on: push

# Se asegura de que todos los comandos se ejecuten dentro de ./api
defaults:
  run:
    working-directory: ./api

jobs: 
  lint:
    runs-on: macos-latest
    steps:
      # 1️⃣ Clonar el repositorio
      - name: 👍 Checkout
        uses: actions/checkout@v4

      # 2️⃣ Configurar Node.js
      - name: Setup Node.js
        uses: actions/setup-node@v4
        with:
          node-version: 20

      # 3️⃣ Instalar dependencias
      - name: 📥 Install Dependencies
        run: npm ci

      # 4️⃣ (Opcional) Arreglar errores automáticamente que ESLint pueda corregir
      - name: 🌸 Fix ESLint issues
        run: npm run lint:fix || true

      # 5️⃣ Ejecutar ESLint para verificar errores restantes
      - name: 🌹 Run ESLint
        run: npm run lint
